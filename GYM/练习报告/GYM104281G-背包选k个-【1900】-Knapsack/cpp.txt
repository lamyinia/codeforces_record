#include <bits/stdc++.h>
using namespace std;
const long double Pi = acos(-1.0);
template <class T> void fmax(T &a, T b){
    if (b > a) a = b;
}
template <class T> void fmin(T &a, T b){
    if (b < a) a = b;
}

void solve(){
    using ary2 = array<int,2>;

    int n, W, k;
    cin >> n >> W >> k;
    vector <vector<long long>> f(n+1, vector<long long>(W+1));

    vector <ary2> A(n);
    for (auto &it : A) cin >> it[0] >> it[1];
    sort(A.begin(), A.end(), [&](ary2 &u, ary2 &v){
        return u[0] == v[0] ? u[1] < v[1] : u[0] < v[0];
    });

    priority_queue <int, vector<int>, greater<int>> pq;
    long long cur = 0;
    vector <long long> suf(n+2);
    for (int i = n; i >= 1; -- i){
        auto &u = A[i-1];
        if (pq.size() < k){
            pq.push(u[1]);
            cur += u[1];
        } else if (!pq.empty() && pq.size() == k && u[1] > pq.top()){
            cur -= pq.top(), pq.pop();
            pq.push(u[1]), cur += u[1];
        }
        suf[i] = cur;
    }

    long long res = 0;
    for (int i = 1; i <= n; ++ i){
        f[i] = f[i-1];
        auto &u = A[i-1];
        for (int j = W; j >= u[0]; -- j){
            f[i][j] = max(f[i][j], f[i-1][j-u[0]]+u[1]);
        }
        fmax(res, f[i][W] + suf[i+1]);
    }

    cout << res << "\n";
}


int main(){
#ifdef ONLINE_JUDGE
    ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
#else
    freopen("in.txt", "rt", stdin), freopen("out.txt", "wt", stdout);
#endif
    int _ = 1;
    while (_--) solve();
    return 0;
}